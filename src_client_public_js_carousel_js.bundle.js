/*! For license information please see src_client_public_js_carousel_js.bundle.js.LICENSE.txt */
(self.webpackChunkmyportfolio3=self.webpackChunkmyportfolio3||[]).push([["src_client_public_js_carousel_js"],{"./src/client/public/js/carousel.js":()=>{const e=document.querySelector(".card-carousel");document.querySelector(".card-carousel + .card-controller");new class extends class{constructor(e){this.target=e}event(e){let t;this.target.addEventListener("mousedown",(s=>{function n(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n),document.removeEventListener("mouseleave",n),t(null)}s.preventDefault(),t=e(s),window.addEventListener("mousemove",t),document.addEventListener("mouseleave",n),window.addEventListener("mouseup",n)})),this.target.addEventListener("touchstart",(s=>{function n(){window.removeEventListener("touchmove",t),window.removeEventListener("touchend",n),t(null)}t=e(s),window.addEventListener("touchmove",t),window.addEventListener("touchend",n),document.body.addEventListener("mouseleave",n)}))}getDistance(e){this.event((function(t){let s,n;return"touches"in t?(s=t.touches[0].clientX,n=t.touches[0].clientY):(s=t.clientX,n=t.clientY),function(t){return e(null===t?null:"touches"in t?{x:t.touches[0].clientX-s,y:t.touches[0].clientY-n}:{x:t.clientX-s,y:t.clientY-n})}}))}}{constructor(e,t){super(e),this.container=e,this.controllerElement=t,this.cards=e.querySelectorAll(".card"),this.centerIndex=(this.cards.length-1)/2,this.cardWidth=this.cards[0].offsetWidth/this.container.offsetWidth*100,this.xScale={},window.addEventListener("resize",this.updateCardWidth.bind(this)),this.controllerElement&&this.controllerElement.addEventListener("keydown",this.controller.bind(this)),this.build(),super.getDistance(this.moveCards.bind(this))}updateCardWidth(){this.cardWidth=this.cards[0].offsetWidth/this.container.offsetWidth*100,this.build()}build(e=0){for(let e=0;e<this.cards.length;e++){const t=e-this.centerIndex,s=this.calcScale(t),n=this.calcScale2(t),c=-Math.abs(e-this.centerIndex),i=this.calcPos(t,n);this.xScale[t]=this.cards[e],this.updateCards(this.cards[e],{x:t,scale:s,leftPos:i,zIndex:c})}}controller(e){const t={...this.xScale};if(39===e.keyCode)for(let e in this.xScale){t[parseInt(e)-1<-this.centerIndex?this.centerIndex:parseInt(e)-1]=this.xScale[e]}if(37==e.keyCode)for(let e in this.xScale){t[parseInt(e)+1>this.centerIndex?-this.centerIndex:parseInt(e)+1]=this.xScale[e]}this.xScale=t;for(let e in t){const t=this.calcScale(e),s=this.calcScale2(e),n=this.calcPos(e,s),c=-Math.abs(e);this.updateCards(this.xScale[e],{x:e,scale:t,leftPos:n,zIndex:c})}}calcPos(e,t){let s;return e<0?(s=(100*t-this.cardWidth)/2,s):(s=100-(100*t+this.cardWidth)/2,s)}updateCards(e,t){(t.x||0==t.x)&&e.setAttribute("data-x",t.x),(t.scale||0==t.scale)&&(e.style.transform=`scale(${t.scale})`,0==t.scale?e.style.opacity=t.scale:e.style.opacity=1),t.leftPos&&(e.style.left=`${t.leftPos}%`),(t.zIndex||0==t.zIndex)&&(0==t.zIndex?e.classList.add("highlight"):e.classList.remove("highlight"),e.style.zIndex=t.zIndex)}calcScale2(e){let t;return e<=0?(t=1- -.2*e,t):e>0?(t=1-.2*e,t):void 0}calcScale(e){const t=1-.2*Math.pow(e,2);return t<=0?0:t}checkOrdering(e,t,s){const n=parseInt(e.dataset.x),c=Math.round(s);let i=t;t!==t+c&&(t+c>n?t+c>this.centerIndex&&(i=t+c-1-this.centerIndex-c-this.centerIndex):t+c<n&&t+c<-this.centerIndex&&(i=t+c+1+this.centerIndex-c+this.centerIndex),this.xScale[i+c]=e);const a=-Math.abs(i+c);return this.updateCards(e,{zIndex:a}),i}moveCards(e){let t;if(null!=e)this.container.classList.remove("smooth-return"),t=e.x/250;else{this.container.classList.add("smooth-return"),t=0;for(let e in this.xScale)this.updateCards(this.xScale[e],{x:e,zIndex:Math.abs(Math.abs(e)-this.centerIndex)})}for(let e=0;e<this.cards.length;e++){const s=this.checkOrdering(this.cards[e],parseInt(this.cards[e].dataset.x),t),n=this.calcScale(s+t),c=this.calcScale2(s+t),i=this.calcPos(s+t,c);this.updateCards(this.cards[e],{scale:n,leftPos:i})}}}(e)}}]);
//# sourceMappingURL=src_client_public_js_carousel_js.bundle.js.map